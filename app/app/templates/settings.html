<ion-view view-title="{{'SETTINGS_TITLE' | translate}}" class="title" cache-view="false">
    <ion-content>

        <div class="card" ng-init="showSearchFilter = false">
            <div class="settings-header" ng-click="showSearchFilter = !showSearchFilter">
                Search Filters
            </div>

            <div class="settings-dropdown" ng-show="showSearchFilter" ng-class="showSearchFilter ? 'animated slideInDown' : '' ">
                <ul>
                    <!--<div class="item item-divider">
                        {{'SHOW_ME' | translate}}:
                    </div>-->
                    <ion-toggle ng-model="profile.guys" toggle-class="toggle-assertive" class="item-text-wrap">{{'GUYS' | translate}}</ion-toggle>
                    <ion-toggle ng-model="profile.girls" toggle-class="toggle-assertive" class="item-text-wrap">{{'GIRLS' | translate}}</ion-toggle>
                    <div ng-click="filterInfoPopup()">
                        <ion-toggle ng-model="profile.LFSelfId" toggle-class="toggle-assertive" class="item-text-wrap" ng-disabled="true" >Advanced Filters</ion-toggle>
                    </div>
                    <div ng-show="profile.LFSelfId">
                        <div class="item item-divider">
                            Show Me:
                        </div>
                        <ion-checkbox ng-model="profile.LFSperm" color="positive" class="item-checkbox-right">
                            <ion-label class="row flex-center">
                                <img ng-class="profile.LFSperm ? 'id-badge-visible col-20' : 'id-badge-hidden' " src="img/sperm_ic.svg">
                                <span class="col-80 padding-10">  People with Sperm</span>
                            </ion-label>
                        </ion-checkbox>

                        <ion-checkbox ng-model="profile.LFEggs" color="positive" class="item-checkbox-right">
                            <ion-label class="row flex-center">
                                <img ng-class="profile.LFEggs ? 'id-badge-visible col-20' : 'id-badge-hidden' " src="img/egg_ic.svg">
                                <span class="col-80 padding-10"> People with Eggs</span>
                            </ion-label>
                        </ion-checkbox>

                        <ion-checkbox ng-model="profile.LFWomb" color="positive" class="item-checkbox-right">
                            <ion-label class="row flex-center">
                                <img ng-class="profile.LFWomb ? 'id-badge-visible col-20' : 'id-badge-hidden' " src="img/womb_ic.svg">
                                <span class="col-80 padding-10">  People with a Womb</span>
                            </ion-label>
                        </ion-checkbox>


                        <ion-checkbox ng-model="profile.LFEmbryo" color="positive" class="item-checkbox-right item-text-wrap">
                            <ion-label class="row flex-center">
                                <img ng-class="profile.LFEmbryo ? 'id-badge-visible col-20' : 'id-badge-hidden' " src="img/embryo_ic.svg">
                                <span class="col-80 padding-10">  People with a frozen Embryo</span>
                            </ion-label>
                        </ion-checkbox>

                        <ion-checkbox ng-model="profile.LFNot" color="positive" class="item-checkbox-right item-text-wrap">
                            <ion-label style="width: initial;">People without any of the above and people with incomplete profiles</ion-label>
                        </ion-checkbox>
                    </div>
                </ul>
            </div>
        </div>


        <div class="card">
            <div class="settings-header" ng-click="showDiscovery = !showDiscovery">
                Discovery
            </div>
            <div class="settings-dropdown" ng-show="showDiscovery" ng-class="showDiscovery ? 'animated slideInDown' : '' ">
                <ul class="list custom">
                    <li>
                        <ion-toggle ng-model="profile.enabled" toggle-class="toggle-assertive">{{'DISCOVERABLE' | translate}}</ion-toggle>
                    </li>
                    <div class="item item-divider">
                        {{'SHOW_DISTANCES_IN' | translate}}:
                    </div>

                    <ion-radio ng-model="profile.distanceType" name="distanceType" ng-value="'km'">Kilometers</ion-radio>

                    <ion-radio ng-model="profile.distanceType" name="distanceType" ng-value="'mi'">Miles</ion-radio>

                    <li class="item item-divider">
                        {{'SEARCH_DISTANCE' | translate}}: {{profile.distance}}{{profile.distanceType}}
                    </li>

                    <li class="item custom-slider" style="height: 60px" ng-class="showMI ? '' : 'hidden'">
                        <slider floor="1" ceiling="12427" ng-model-low="1" ng-model-high="profile.distance"></slider>
                    </li>

                    <li class="item custom-slider" style="height: 60px" ng-class="showKM ? '' : 'hidden'">
                        <slider floor="1" ceiling="20000" ng-model-low="1" ng-model-high="profile.distance"></slider>
                    </li>

                    <li class="item item-divider">
                        {{'AGED_BETWEEN' | translate}}: {{profile.ageFrom}} to {{profile.ageTo == 55 ? '55+' : profile.ageTo}}
                    </li>

                    <!-- There is a MAX_AGE_PLUS var in the cloud code to make the 55 effectively 55+ -->
                    <li class="item custom" style="height: 60px">
                        <slider floor="18" ceiling="55" ng-model-low="profile.ageFrom" ng-model-high="profile.ageTo"></slider>
                    </li>
                </ul>
            </div>
        </div>


        <div class="card" ng-init="showAppSettings = false">
            <div class="settings-header" ng-click="showAppSettings = !showAppSettings">
                App Settings
            </div>
            <div class="list settings-dropdown" ng-show="showAppSettings" ng-class="showAppSettings ? 'animated slideInDown' : '' ">

                <div class="item item-divider">
                    {{'NOTIFICATION_SOUND' | translate}}:
                </div>

                <ion-toggle ng-model="profile.notifyMatch" toggle-class="toggle-assertive">{{'NEW_MATCH' | translate}}</ion-toggle>

                <ion-toggle ng-model="profile.notifyMessage" toggle-class="toggle-assertive">{{'NEW_MESSAGE' | translate}}</ion-toggle>

                <div class="item item-divider">
                    {{'LANGUAGE' | translate}}:
                </div>

                <div style="width:100%;padding:5px;">
                    <button ng-click="setLanguage('en')" class="button button-small button-stable">English</button>
                    <button ng-click="setLanguage('de')" class="button button-small button-stable">Deutch</button>
                </div>
            </div>

        </div>
        <div class="card" ng-init="showHelp = false">
            <div class="settings-header" ng-click="showHelp = !showHelp">
                Help
            </div>
            <div class="list settings-dropdown padding-10" ng-show="showHelp" ng-class="showHelp ? 'animated slideInDown' : '' ">
                <button class="button button-block help-button" ng-click="showDiscovery = true; openModal()">Overview</button>
            </div>
        </div>
        <div class="card">
            <div class="wide center padding-10">
                <button class="button button-block button-assertive" ng-click="save()" translate="SAVE"></button>
                <button class="button button-block button-positive hidden" ng-click="testPushNotification()">Test Push Notification</button>
                <button class="button button-block button-stable" ng-click="deleteUnmatchedSwipes()">Reset Likes</button>
                <button class="button button-block button-stable" ng-click="logout()" translate="LOGOUT"></button>
                <button class="button button-block button-positive hidden" ng-click="getProfilesNew()">Set Default Values</button>
            </div>
            <div class="wide center padding-10 red-text" ng-click="deleteAccount()">
                {{'DELETE_ACCOUNT' | translate}}
            </div>

            <div class="wide center padding-10 bold" ng-click="debug()">
                {{'VERSION' | translate}}: {{::(appVersion ? appVersion : 'N/A')}}
            </div>
        </div>
        <br />
    </ion-content>
</ion-view>